<Window x:Class="Cleaning_Quote.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:Cleaning_Quote"
        xmlns:sys="clr-namespace:System;assembly=mscorlib"
        mc:Ignorable="d"
        Title="MainWindow" Height="1084" Width="800">
    <Grid Margin="10">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="2*"/>
            <ColumnDefinition Width="3*"/>
        </Grid.ColumnDefinitions>

        <!-- LEFT: Client Panel -->
        <StackPanel Grid.Column="0" Margin="10">
            <TextBlock Text="Search Clients" FontWeight="SemiBold"/>
            <TextBox x:Name="SearchBox"
                 Height="28"
                 Margin="0,2,0,8"
                 TextChanged="SearchBox_TextChanged"/>


            <ListBox x:Name="ClientsList" Height="140"
                 DisplayMemberPath="DisplayName"
                 SelectionChanged="ClientsList_SelectionChanged"/>

            <TextBlock Text="Client Details" FontSize="16" FontWeight="Bold" Margin="0,15,0,8"/>

            <TextBlock Text="Client Name" FontWeight="SemiBold"/>
            <TextBox x:Name="NameBox" TextChanged="AnyField_TextChanged" Height="28" Margin="0,2,0,6"/>

            <TextBlock Text="Street Address" FontWeight="SemiBold"/>
            <TextBox x:Name="Addr1Box" TextChanged="AnyField_TextChanged" Height="28" Margin="0,2,0,6"/>

            <TextBlock Text="Address Line 2 (optional)" FontWeight="SemiBold"/>
            <TextBox x:Name="Addr2Box" TextChanged="AnyField_TextChanged" Height="28" Margin="0,2,0,6"/>

            <TextBlock Text="City" FontWeight="SemiBold"/>
            <TextBox x:Name="CityBox" TextChanged="AnyField_TextChanged" Height="28" Margin="0,2,0,6"/>

            <TextBlock Text="State" FontWeight="SemiBold"/>
            <TextBox x:Name="StateBox" TextChanged="AnyField_TextChanged" Height="28" Margin="0,2,0,6"/>

            <TextBlock Text="Zip Code" FontWeight="SemiBold"/>
            <TextBox x:Name="ZipBox" TextChanged="AnyField_TextChanged" Height="28" Margin="0,2,0,6"/>

            <TextBlock Text="Phone Number" FontWeight="SemiBold"/>
            <TextBox x:Name="PhoneBox" TextChanged="AnyField_TextChanged" Height="28" Margin="0,2,0,6"/>

            <TextBlock Text="Email Address" FontWeight="SemiBold"/>
            <TextBox x:Name="EmailBox" TextChanged="AnyField_TextChanged" Height="28" Margin="0,2,0,6"/>

            <TextBlock Text="Notes" FontWeight="SemiBold"/>
            <TextBox x:Name="NotesBox" TextChanged="AnyField_TextChanged"
                 Height="60"
                 TextWrapping="Wrap"
                 AcceptsReturn="True"
                 Margin="0,2,0,10"/>

            <StackPanel Orientation="Horizontal">
                <Button Content="New" Width="80" Margin="0,0,8,0" Click="NewClient_Click"/>
                <Button x:Name="SaveButton"
                    Content="Save"
                    Width="80"
                    Click="SaveClient_Click"/>
                <Button Content="Delete" Width="80" Margin="8,0,0,0" Click="DeleteClient_Click"/>

            </StackPanel>

            <TextBlock Text="Quotes" FontSize="16" FontWeight="Bold" Margin="0,10,0,6"/>

            <ListBox x:Name="QuotesList"
                 Height="120"
                 DisplayMemberPath="DisplayText"
                 SelectionChanged="QuotesList_SelectionChanged"/>

            <StackPanel Orientation="Horizontal" Margin="0,6,0,0"/>

            <TextBlock x:Name="StatusText" Margin="0,10,0,0" />

            <StackPanel Orientation="Horizontal">
                <Button Content="New Quote" Width="100" Margin="0,0,8,0" Click="NewQuote_Click"/>
                <Button Content="Load Quote" Width="100" Margin="0,0,8,0" Click="LoadQuote_Click"/>
                <Button Content="Delete Quote" Width="100" Margin="8,0,0,0" Click="DeleteQuote_Click"/>
            </StackPanel>

        </StackPanel>
       
        <!-- RIGHT: Totals Panel (what you already had) -->
        <StackPanel Grid.Column="1" Margin="10" Visibility="{Binding QuotePanelVisibility}">

            <TextBlock Text="Quote" FontSize="18" FontWeight="Bold" Margin="0,0,0,10"/>

            <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                <Button Content="New Quote" Width="100" Margin="0,0,8,0" Click="NewQuote_Click"/>
                <Button Content="Add Room" Width="90" Margin="0,0,8,0" Click="AddRoom_Click"/>
                <Button Content="Remove Room" Width="110" Margin="0,0,8,0" Click="RemoveRoom_Click"/>
                <Button Content="Save Quote" Width="95" Click="SaveQuote_Click"/>
            </StackPanel>

            <!-- Quote settings -->
            <WrapPanel Margin="0,0,0,10">
                <StackPanel Width="130" Margin="0,0,10,0">
                    <TextBlock Text="Labor Rate ($/hr)" FontWeight="SemiBold"/>
                    <TextBox x:Name="LaborRateBox" Height="26" TextChanged="QuoteInputs_Changed"/>
                </StackPanel>

                <StackPanel Width="110" Margin="0,0,10,0">
                    <TextBlock Text="Tax Rate" FontWeight="SemiBold"/>
                    <TextBox x:Name="TaxRateBox" Height="26" TextChanged="QuoteInputs_Changed"/>
                </StackPanel>

                <StackPanel Width="140" Margin="0,0,10,0">
                    <TextBlock Text="CC Fee Rate" FontWeight="SemiBold"/>
                    <TextBox x:Name="CcFeeRateBox" Height="26" TextChanged="QuoteInputs_Changed"/>
                </StackPanel>

                <StackPanel Width="110" Margin="0,0,10,0">
                    <TextBlock Text="Pay w/ Card" FontWeight="SemiBold"/>
                    <CheckBox x:Name="CreditCardCheck" Checked="QuoteInputs_Changed" Unchecked="QuoteInputs_Changed"/>
                </StackPanel>

                <StackPanel Width="90" Margin="0,0,10,0">
                    <TextBlock Text="Pets" FontWeight="SemiBold"/>
                    <TextBox x:Name="PetsBox" Height="26" TextChanged="QuoteInputs_Changed"/>
                </StackPanel>

                <StackPanel Width="130" Margin="0,0,10,0">
                    <TextBlock Text="Household Size" FontWeight="SemiBold"/>
                    <TextBox x:Name="HouseholdSizeBox" Height="26" TextChanged="QuoteInputs_Changed"/>
                </StackPanel>

                <StackPanel Width="140" Margin="0,0,10,0">
                    <TextBlock Text="Smoking Inside" FontWeight="SemiBold"/>
                    <CheckBox x:Name="SmokingCheck" Checked="QuoteInputs_Changed" Unchecked="QuoteInputs_Changed"/>
                </StackPanel>
            </WrapPanel>

            <WrapPanel Margin="0,0,0,10">
                <StackPanel Width="270" Margin="0,0,10,0">
                    <TextBlock Text="Quote Name" FontWeight="SemiBold"/>
                    <TextBox x:Name="QuoteNameBox" Height="26" TextChanged="QuoteNameBox_TextChanged"/>
                </StackPanel>

                <StackPanel Width="190" Margin="0,0,10,0">
                    <TextBlock Text="Service Type" FontWeight="SemiBold"/>
                    <ComboBox x:Name="ServiceTypeBox" Height="26" SelectionChanged="QuoteDetails_Changed">
                        <ComboBoxItem>Standard Clean</ComboBoxItem>
                        <ComboBoxItem>Initial Clean</ComboBoxItem>
                        <ComboBoxItem>Deep Clean</ComboBoxItem>
                        <ComboBoxItem>Light Clean</ComboBoxItem>
                        <ComboBoxItem>Move in/out Clean</ComboBoxItem>
                        <ComboBoxItem>Pressure Washing</ComboBoxItem>
                        <ComboBoxItem>Organizing</ComboBoxItem>
                    </ComboBox>
                </StackPanel>

                <StackPanel Width="150" Margin="0,0,10,0">
                    <TextBlock Text="Frequency" FontWeight="SemiBold"/>
                    <ComboBox x:Name="ServiceFrequencyBox" Height="26" SelectionChanged="QuoteDetails_Changed">
                        <ComboBoxItem>Weekly</ComboBoxItem>
                        <ComboBoxItem>Bi-weekly</ComboBoxItem>
                        <ComboBoxItem>Every 4 weeks</ComboBoxItem>
                        <ComboBoxItem>One Time</ComboBoxItem>
                    </ComboBox>
                </StackPanel>

                <StackPanel Width="190" Margin="0,0,10,0">
                    <TextBlock Text="Last Professional Cleaning" FontWeight="SemiBold"/>
                    <ComboBox x:Name="LastProfessionalCleaningBox" Height="26" SelectionChanged="QuoteDetails_Changed">
                        <ComboBoxItem>&lt; 2 weeks</ComboBoxItem>
                        <ComboBoxItem>2 - 4 weeks</ComboBoxItem>
                        <ComboBoxItem>&gt;1 month</ComboBoxItem>
                        <ComboBoxItem>Never</ComboBoxItem>
                    </ComboBox>
                </StackPanel>
            </WrapPanel>

            <Expander Header="Service Type Settings" IsExpanded="False" Margin="0,0,0,10">
                <StackPanel>
                    <WrapPanel Margin="0,0,0,10">
                        <StackPanel Width="160" Margin="0,0,10,0">
                            <TextBlock Text="Sq Ft per Labor Hour" FontWeight="SemiBold"/>
                            <TextBox x:Name="SqFtPerLaborHourBox" Height="26" TextChanged="ServiceTypeSettings_Changed"/>
                        </StackPanel>
                        <StackPanel Width="120" Margin="0,0,10,0">
                            <TextBlock Text="Small Sq Ft" FontWeight="SemiBold"/>
                            <TextBox x:Name="SizeSmallSqFtBox" Height="26" TextChanged="ServiceTypeSettings_Changed"/>
                        </StackPanel>
                        <StackPanel Width="120" Margin="0,0,10,0">
                            <TextBlock Text="Medium Sq Ft" FontWeight="SemiBold"/>
                            <TextBox x:Name="SizeMediumSqFtBox" Height="26" TextChanged="ServiceTypeSettings_Changed"/>
                        </StackPanel>
                        <StackPanel Width="120" Margin="0,0,10,0">
                            <TextBlock Text="Large Sq Ft" FontWeight="SemiBold"/>
                            <TextBox x:Name="SizeLargeSqFtBox" Height="26" TextChanged="ServiceTypeSettings_Changed"/>
                        </StackPanel>
                    </WrapPanel>

                    <WrapPanel Margin="0,0,0,10">
                        <StackPanel Width="120" Margin="0,0,10,0">
                            <TextBlock Text="Complexity 1x" FontWeight="SemiBold"/>
                            <TextBox x:Name="Complexity1MultiplierBox" Height="26" TextChanged="ServiceTypeSettings_Changed"/>
                        </StackPanel>
                        <StackPanel Width="120" Margin="0,0,10,0">
                            <TextBlock Text="Complexity 2x" FontWeight="SemiBold"/>
                            <TextBox x:Name="Complexity2MultiplierBox" Height="26" TextChanged="ServiceTypeSettings_Changed"/>
                        </StackPanel>
                        <StackPanel Width="120" Margin="0,0,10,0">
                            <TextBlock Text="Complexity 3x" FontWeight="SemiBold"/>
                            <TextBox x:Name="Complexity3MultiplierBox" Height="26" TextChanged="ServiceTypeSettings_Changed"/>
                        </StackPanel>
                    </WrapPanel>

                    <WrapPanel>
                        <StackPanel Width="140" Margin="0,0,10,0">
                            <TextBlock Text="Glass Shower Hours" FontWeight="SemiBold"/>
                            <TextBox x:Name="FullGlassShowerHoursBox" Height="26" TextChanged="ServiceTypeSettings_Changed"/>
                        </StackPanel>
                        <StackPanel Width="140" Margin="0,0,10,0">
                            <TextBlock Text="Pebble Floor Hours" FontWeight="SemiBold"/>
                            <TextBox x:Name="PebbleStoneFloorHoursBox" Height="26" TextChanged="ServiceTypeSettings_Changed"/>
                        </StackPanel>
                        <StackPanel Width="120" Margin="0,0,10,0">
                            <TextBlock Text="Fridge Hours" FontWeight="SemiBold"/>
                            <TextBox x:Name="FridgeHoursBox" Height="26" TextChanged="ServiceTypeSettings_Changed"/>
                        </StackPanel>
                        <StackPanel Width="120" Margin="0,0,10,0">
                            <TextBlock Text="Oven Hours" FontWeight="SemiBold"/>
                            <TextBox x:Name="OvenHoursBox" Height="26" TextChanged="ServiceTypeSettings_Changed"/>
                        </StackPanel>
                    </WrapPanel>
                </StackPanel>
            </Expander>

            <!-- Rooms -->
            <TextBlock Text="Rooms" FontWeight="Bold" Margin="0,0,0,6"/>
            <DataGrid x:Name="RoomsGrid"
              Height="170"
              AutoGenerateColumns="False"
              CanUserAddRows="False"
              SelectionMode="Single"
              CellEditEnding="RoomsGrid_CellEditEnding"
              CurrentCellChanged="RoomsGrid_CurrentCellChanged">
                <DataGrid.Columns>
                    <DataGridComboBoxColumn Header="Room"
                        Width="*"
                        SelectedItemBinding="{Binding RoomType, UpdateSourceTrigger=PropertyChanged}">
                        <DataGridComboBoxColumn.ItemsSource>
                            <x:Array Type="{x:Type sys:String}" xmlns:sys="clr-namespace:System;assembly=mscorlib">
                                <sys:String>Bedroom</sys:String>
                                <sys:String>Bathroom</sys:String>
                                <sys:String>Kitchen</sys:String>
                                <sys:String>Living Room</sys:String>
                                <sys:String>Dining Room</sys:String>
                                <sys:String>Office</sys:String>
                                <sys:String>Hallway</sys:String>
                                <sys:String>Laundry</sys:String>
                                <sys:String>Stairs</sys:String>
                            </x:Array>
                        </DataGridComboBoxColumn.ItemsSource>
                    </DataGridComboBoxColumn>

                    <DataGridComboBoxColumn Header="Size"
                        Width="90"
                        SelectedItemBinding="{Binding Size, UpdateSourceTrigger=PropertyChanged}">
                        <DataGridComboBoxColumn.ItemsSource>
                            <x:Array Type="{x:Type sys:String}" xmlns:sys="clr-namespace:System;assembly=mscorlib">
                                <sys:String>S</sys:String>
                                <sys:String>M</sys:String>
                                <sys:String>L</sys:String>
                            </x:Array>
                        </DataGridComboBoxColumn.ItemsSource>
                    </DataGridComboBoxColumn>

                    <DataGridComboBoxColumn Header="Complexity"
                        Width="120"
                        SelectedItemBinding="{Binding Complexity, UpdateSourceTrigger=PropertyChanged}">
                        <DataGridComboBoxColumn.ItemsSource>
                            <x:Array Type="{x:Type sys:Int32}" xmlns:sys="clr-namespace:System;assembly=mscorlib">
                                <sys:Int32>1</sys:Int32>
                                <sys:Int32>2</sys:Int32>
                                <sys:Int32>3</sys:Int32>
                            </x:Array>
                        </DataGridComboBoxColumn.ItemsSource>
                    </DataGridComboBoxColumn>
                    <DataGridTextColumn Header="Glass" Binding="{Binding FullGlassShowersCount}" Width="70"/>
                    <DataGridTextColumn Header="Pebble" Binding="{Binding PebbleStoneFloorsCount}" Width="70"/>
                    <DataGridTextColumn Header="Fridge" Binding="{Binding FridgeCount}" Width="70"/>
                    <DataGridTextColumn Header="Oven" Binding="{Binding OvenCount}" Width="70"/>
                    <DataGridTextColumn Header="Room Hours" Binding="{Binding RoomLaborHours}" IsReadOnly="True" Width="95"/>
                </DataGrid.Columns>
            </DataGrid>

            <!-- Totals -->
            <Border BorderThickness="1" Padding="10" Margin="0,10,0,0">
                <StackPanel>
                    <TextBlock Text="Totals" FontSize="16" FontWeight="Bold" Margin="0,0,0,6"/>
                    <TextBlock Text="{Binding HoursText}" />
                    <TextBlock Text="{Binding SubtotalText}" />
                    <TextBlock Text="{Binding CcFeeText}" />
                    <TextBlock Text="{Binding TaxText}" />
                    <TextBlock Text="{Binding TotalText}" FontWeight="Bold" Margin="0,6,0,0"/>
                </StackPanel>
            </Border>

        </StackPanel>

    </Grid>

</Window>
